function testWebP(e){var a=new Image;a.onload=a.onerror=function(){e(2==a.height)},a.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function refresh(){window.location.reload()}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));let actionVillain,charData,villainData,propertiesValue=document.querySelector(".properties__amount"),propertiesAmount=15,villainSubmit=!1,blockAttackChar=0,blockAttackVillain=0;function propertiesDown(e){if(0!=propertiesAmount){let a=+document.querySelector(`.${e}__value`).innerHTML;if(0==a)return;document.querySelector(`.${e}__value`).innerHTML=a-1,propertiesAmount+=1,propertiesValue.innerHTML="Очки характеристик: "+propertiesAmount}}function propertiesUp(e){if(0!=propertiesAmount){let a=+document.querySelector(`.${e}__value`).innerHTML;document.querySelector(`.${e}__value`).innerHTML=a+1,propertiesAmount-=1,propertiesValue.innerHTML="Очки характеристик: "+propertiesAmount}}function propertiesSubmit(){if(0!=propertiesAmount)return;let e=document.querySelectorAll(".properties__button");for(let a=0;a<e.length;a++)e[a].style.display="none";if(document.querySelector(".properties__submit").style.display="none",0==propertiesAmount){let e=+document.querySelector(".health__value").innerHTML,a=+document.querySelector(".damage__value").innerHTML,t=+document.querySelector(".armour__value").innerHTML,l=+document.querySelector(".agility__value").innerHTML;charData={health:e,damage:a,armour:t,agility:l}}charData.health<=0&&(document.querySelector(".game-over").innerHTML="Game over",document.querySelector(".game-over").style.display="flex"),document.querySelector(".game__bar").style.display="flex"}function gameRow(e,a){document.querySelector(".fight__text").innerHTML+=`<p class="${a}">${e}</p>`}function block(){blockAttackChar=1,gameRow("Вы поставили блок","character"),villainAction(),0==actionVillain?villainBlock():villainAttack(),blockAttackChar=0,blockAttackVillain=0}function attack(){villainAction(),0==actionVillain?(villainBlock(),1==blockAttackVillain&&gameRow("Противник заблокировал вашу атаку","villain")):(villainData.health<=0?(document.querySelector(".game-over").innerHTML="You win",document.querySelector(".game-over").style.display="flex"):charData.damage<villainData.armour?gameRow("Вы не можете нанести противнику урон,защита противника непробиваема","character"):(gameRow(`Вы нанесли ${charData.damage-villainData.armour} урона( Враг заблокировал ${villainData.armour} урона с помощью брони)`,"character"),villainData.health-=charData.damage-villainData.armour,villainData.health<=0?(gameRow("Враг мертв","death"),document.querySelector(".game-over").innerHTML="You win",document.querySelector(".game-over").style.display="flex"):gameRow(`У врага осталось ${villainData.health} здоровья`,"health")),villainAttack()),blockAttackVillain=0}function villainAttack(){blockAttackChar?gameRow("Атака противника была заблокирована","villain"):villainData.damage<charData.armour?gameRow("Противник не может нанести Вам урон,Ваша защита непробиваема","villain"):(gameRow(`Противник нанес вам ${villainData.damage-charData.armour} урона( Вы заблокировали ${charData.armour} урона с помощью брони)`,"villain"),charData.health-=villainData.damage-charData.armour,charData.health<=0?(gameRow("Вы мертвы","death"),charData.health<=0&&(document.querySelector(".game-over").innerHTML="Game over",document.querySelector(".game-over").style.display="flex")):gameRow(`У вас осталось ${charData.health} здоровья`,"health"))}function villainBlock(){blockAttackVillain=1,gameRow("Противник поставил блок","villain")}function villainAction(){return action=Math.round(1e4*+Math.random().toFixed(4)%10),action<=5?(console.log("Атака"),actionVillain=1):(console.log("Блок"),actionVillain=0)}propertiesValue.innerHTML="Очки характеристик: "+propertiesAmount,document.querySelectorAll(".villain__card").forEach(e=>{e.addEventListener("click",(function(a){a.preventDefault(),0==villainSubmit&&(document.querySelectorAll(".card__properties").forEach(e=>e.classList.remove("active")),e.querySelector(".card__properties").classList.add("active"))}))}),document.querySelector(".villain__submit").addEventListener("click",(function(e){let a=document.querySelector(".card__properties.active"),t=+a.querySelector(".villain__health").innerHTML,l=+a.querySelector(".villain__damage").innerHTML,r=+a.querySelector(".villain__armour").innerHTML,i=+a.querySelector(".villain__agility").innerHTML;return villainData={health:t,damage:l,armour:r,agility:i},document.querySelectorAll(".villain__card").forEach(e=>{null==e.querySelector(".card__properties.active")&&(e.querySelector(".card__disable").style.display="block")}),this.style.display="none",document.querySelector(".game__action").style.display="flex",villainSubmit=!0}));