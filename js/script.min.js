function testWebP(e){var a=new Image;a.onload=a.onerror=function(){e(2==a.height)},a.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function refresh(){window.location.reload()}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));let charData,villainData,propertiesValue=document.querySelector(".properties__amount"),propertiesAmount=8,villainSubmit=!1;function propertiesDown(e){if(0!=propertiesAmount){let a=+document.querySelector(`.${e}__value`).innerHTML;if(0==a)return;document.querySelector(`.${e}__value`).innerHTML=a-1,propertiesAmount+=1,propertiesValue.innerHTML="Очки характеристик: "+propertiesAmount}}function propertiesUp(e){if(0!=propertiesAmount){let a=+document.querySelector(`.${e}__value`).innerHTML;document.querySelector(`.${e}__value`).innerHTML=a+1,propertiesAmount-=1,propertiesValue.innerHTML="Очки характеристик: "+propertiesAmount}}function propertiesSubmit(){if(0!=propertiesAmount)return;let e=document.querySelectorAll(".properties__button");for(let a=0;a<e.length;a++)e[a].style.display="none";if(document.querySelector(".properties__submit").style.display="none",0==propertiesAmount){let e=+document.querySelector(".health__value").innerHTML,a=+document.querySelector(".damage__value").innerHTML,t=+document.querySelector(".armour__value").innerHTML,r=+document.querySelector(".agility__value").innerHTML;charData={health:e,damage:a,armour:t,agility:r}}charData.health<=0&&(document.querySelector(".game-over").innerHTML="Game over",document.querySelector(".game-over").style.display="flex"),document.querySelector(".game__bar").style.display="flex"}function gameRow(e){document.querySelector(".fight__text").innerHTML+=`<p>${e}</p>`}function attack(){villainData.health<=0?gameRow("Враг уже мертв,не издевайся"):(gameRow(`Вы нанесли ${charData.damage-villainData.armour} урона( Враг заблокировал ${villainData.armour} урона с помощью брони)`),villainData.health-=charData.damage-villainData.armour,villainData.health<=0?gameRow("Враг мертв"):gameRow(`У врага осталось ${villainData.health} здоровья`))}function block(){villainData.health<=0?gameRow("Враг уже мертв,не издевайся"):(gameRow(`Вы нанесли ${charData.damage-villainData.armour} урона( Враг заблокировал ${villainData.armour} урона с помощью брони)`),villainData.health-=charData.damage-villainData.armour,villainData.health<=0?gameRow("Враг мертв"):gameRow(`У врага осталось ${villainData.health} здоровья`))}propertiesValue.innerHTML="Очки характеристик: "+propertiesAmount,document.querySelectorAll(".villain__card").forEach(e=>{e.addEventListener("click",(function(a){a.preventDefault(),0==villainSubmit&&(document.querySelectorAll(".card__properties").forEach(e=>e.classList.remove("active")),e.querySelector(".card__properties").classList.add("active"))}))}),document.querySelector(".villain__submit").addEventListener("click",(function(e){let a=document.querySelector(".card__properties.active"),t=+a.querySelector(".villain__health").innerHTML,r=+a.querySelector(".villain__damage").innerHTML,l=+a.querySelector(".villain__armour").innerHTML,i=+a.querySelector(".villain__agility").innerHTML;return villainData={health:t,damage:r,armour:l,agility:i},document.querySelectorAll(".villain__card").forEach(e=>{null==e.querySelector(".card__properties.active")&&(e.querySelector(".card__disable").style.display="block")}),this.style.display="none",document.querySelector(".game__action").style.display="flex",villainSubmit=!0}));